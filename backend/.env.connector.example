# Local LIS Instrument Connector
# Copy this file to .env.connector and update values.

# Use your LAB subdomain URL (not admin host).
LIS_BASE_URL=https://lab01.medilis.net

# Lab user account for connector (recommended: dedicated integration user).
LIS_USERNAME=instrument.bot
LIS_PASSWORD=change-me

# Instrument UUID from LIS Settings > Instruments
LIS_INSTRUMENT_ID=00000000-0000-0000-0000-000000000000

# Optional:
# If LIS_BASE_URL is an API host (e.g. https://api.medilis.net),
# set forwarded host so backend resolves tenant correctly.
# LIS_FORWARDED_HOST=lab01.medilis.net

# Protocol detection mode:
# AUTO = detect framed HL7 or ASTM
# HL7 = force HL7 framing parse
# ASTM = force ASTM parse
CONNECTOR_PROTOCOL=AUTO

# Local listener bind address/port (analyzer sends data here)
CONNECTOR_LISTEN_HOST=0.0.0.0
CONNECTOR_LISTEN_PORT=5001

# Flush incomplete buffers after idle timeout (ms)
CONNECTOR_IDLE_FLUSH_MS=350

# Max in-memory per-socket buffer before forced flush
CONNECTOR_MAX_BUFFER_BYTES=2097152

# Connector request timeout to LIS API
CONNECTOR_REQUEST_TIMEOUT_MS=15000

# If true, connector does not send to LIS (for testing only)
CONNECTOR_DRY_RUN=false

