# ============================================================
# Local LIS Instrument Connector — Configuration
# ============================================================

# Backend API URL (NOT the frontend URL)
LIS_BASE_URL=https://api.medilis.net

# Your lab's subdomain — so the backend resolves the correct tenant
LIS_FORWARDED_HOST=lab01.medilis.net

# ⚠️  IMPORTANT: Use a LAB USER account (not platform admin).
# Create a dedicated lab staff user in the LIS and enter credentials here.
LIS_USERNAME=admin
LIS_PASSWORD=password

# ⚠️  IMPORTANT: Get the Instrument UUID from LIS Settings > Instruments.
# Replace the zeros below with the real UUID.
LIS_INSTRUMENT_ID=4ff756f8-5280-4231-affa-0b81e9931f7b

# Protocol detection mode:
# AUTO = detect framed HL7 or ASTM automatically
# HL7  = force HL7 framing parse
# ASTM = force ASTM parse
CONNECTOR_PROTOCOL=AUTO

# Local listener (analyzer sends data to this host:port)
CONNECTOR_LISTEN_HOST=0.0.0.0
CONNECTOR_LISTEN_PORT=5001

# Flush incomplete buffers after idle timeout (ms)
CONNECTOR_IDLE_FLUSH_MS=350

# Max in-memory per-socket buffer before forced flush
CONNECTOR_MAX_BUFFER_BYTES=2097152

# Connector request timeout to LIS API (ms)
CONNECTOR_REQUEST_TIMEOUT_MS=15000

# If true, connector does not send to LIS (dry run / testing only)
CONNECTOR_DRY_RUN=false
